!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("redux"),require("react"),require("react-redux")):"function"==typeof define&&define.amd?define(["redux","react","react-redux"],t):"object"==typeof exports?exports["redux-dynamic-modules-react"]=t(require("redux"),require("react"),require("react-redux")):e["redux-dynamic-modules-react"]=t(e.redux,e.react,e["react-redux"])}(window,function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(t,r){t.exports=e},function(e,t,r){"use strict";t.__esModule=!0,t.getStringRefCounter=t.getObjectRefCounter=void 0,t.getObjectRefCounter=function(e,t){e||(e=function(e,t){return e===t}),t||(t=function(){return!1});var r=[],n=[];return{getCount:function(t){if(void 0===t||null===t)return 0;var o=r.findIndex(function(r){return r&&e(r,t)});return-1===o?0:n[o]},add:function(o){if(void 0!==o&&null!==o){var i=r.findIndex(function(t){return t&&e(t,o)}),u=1;-1===i?(i=r.length,r.push(o)):u=n[i]+1,t(o)&&(u=1/0),n[i]=u}},remove:function(o){if(t(o))return!1;var i=r.findIndex(function(t){return t&&e(t,o)});return-1!==i&&(1===n[i]?(delete r[i],delete n[i],!0):(n[i]=n[i]-1,!1))}}},t.getStringRefCounter=function(){var e={};return{getCount:function(t){return void 0===t||null===t?0:e[t]||0},add:function(t){void 0!==t&&null!==t&&(e[t]?e[t]++:e[t]=1)},remove:function(t){return void 0!==t&&null!==t&&!!e[t]&&(1===e[t]?(delete e[t],!0):(e[t]--,!1))}}}},function(e,t,r){"use strict";t.__esModule=!0,t.getMiddlewareManager=void 0;var n=r(9);t.getMiddlewareManager=function(){var e=n.createDynamicMiddlewares();return{getItems:function(){return[]},enhancer:e.enhancer,add:function(t){return e.addMiddleware.apply(e,t),t},remove:function(t){return t.forEach(e.removeMiddleware),t},dispose:function(){e.resetMiddlewares()}}}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0,t.getRefCountedManager=void 0;var o=r(1);t.getRefCountedManager=function(e,t,r){var i=o.getObjectRefCounter(t,r);e.getItems().forEach(function(e){return i.add(e)});var u=n({},e);return u.add=function(t){if(t){var r=t.filter(function(e){return e}),n=r.filter(function(e){return 0===i.getCount(e)});e.add(n),r.forEach(i.add)}},u.remove=function(t){t&&t.forEach(function(t){t&&(i.remove(t),0===i.getCount(t)&&e.remove([t]))})},u.dispose=function(){e.dispose()},u}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};t.__esModule=!0,o(r(5),t),o(r(14),t)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};t.__esModule=!0,o(r(6),t),o(r(7),t),o(r(13),t),o(r(1),t),o(r(2),t),o(r(3),t)},function(e,t,r){"use strict";t.__esModule=!0},function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],u=0,d=i.length;u<d;u++,o++)n[o]=i[u];return n};t.__esModule=!0,t.createStore=void 0;var o=r(0),i=r(8),u=r(2),d=r(10),a=r(3),c=r(12);t.createStore=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var f=e.initialState,s=void 0===f?{}:f,l=e.extensions,p=void 0===l?[]:l,v=e.enhancers,h=void 0===v?[]:v,g=e.advancedComposeEnhancers,M=void 0===g?i.composeWithDevTools({}):g,y=e.advancedCombineReducers,_=p.reduce(function(e,t){return t.middleware&&e.push.apply(e,t.middleware),e},[]),m=a.getRefCountedManager(u.getMiddlewareManager(),function(e,t){return e===t}),x=M.apply(void 0,n(h,[o.applyMiddleware.apply(void 0,n(_,[m.enhancer]))])),w=a.getRefCountedManager(d.getModuleManager(m,p,y),function(e,t){return e.id===t.id},function(e){return e.retained}),R=o.createStore(w.getReducer,s,x);w.setDispatch(R.dispatch);var b=function(e){var t=c.flatten(e);return w.add(t),{remove:function(){w.remove(t)}}},C=function(e){return b([e])};return p.forEach(function(e){e.onModuleManagerCreated&&e.onModuleManagerCreated({addModule:C,addModules:b})}),R.addModule=C,R.addModules=b,R.dispose=function(){w.dispose(),m.dispose(),p.forEach(function(e){e.dispose&&e.dispose()})},R.addModules(t),R}},function(e,t,r){"use strict";var n=r(0).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?n:n.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,r){"use strict";t.__esModule=!0,t.createDynamicMiddlewares=t.resetMiddlewares=t.removeMiddleware=t.addMiddleware=void 0;var n=r(0),o=function(){var e=[];return{enhancer:function(t){return function(r){return function(o){var i=e.map(function(e){return e(t)});return n.compose.apply(void 0,i)(r)(o)}}},addMiddleware:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e=[].concat(e,r)},removeMiddleware:function(t){var r=e.findIndex(function(e){return e===t});-1!==r?e=e.filter(function(e,t){return t!==r}):console.error("Middleware does not exist!",t)},resetMiddlewares:function(){e=[]}}},i=o();t.default=i.enhancer;var u=i.addMiddleware,d=i.removeMiddleware,a=i.resetMiddlewares;t.addMiddleware=u,t.removeMiddleware=d,t.resetMiddlewares=a,t.createDynamicMiddlewares=o},function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],u=0,d=i.length;u<d;u++,o++)n[o]=i[u];return n};t.__esModule=!0,t.getModuleManager=void 0;var o=r(11);t.getModuleManager=function(e,t,r){var i,u=null,d=[],a=new Set,c=function(e){if(e){if(!u)throw new Error("setDispatch should be called on ModuleManager before adding any modules.");e.forEach(u)}},f={getReducer:function(e,t){return i?i.reduce(e,t):e||null},setDispatch:function(e){u=e},getItems:function(){return[]},add:function(f){if(f&&0!==f.length){var s=[];(f=f.filter(function(e){return e})).forEach(function(t){if(!a.has(t.id)){a.add(t.id),d.push(t),function(e){if(e)if(i)for(var t in e)i.add(t,e[t]);else i=o.getRefCountedReducerManager(o.getReducerManager(e,r))}(t.reducerMap);var n=t.middlewares;n&&function(t){t&&e.add(t)}(n),s.push(t)}}),u({type:"@@Internal/ModuleManager/SeedReducers"}),s.forEach(function(e){t.forEach(function(t){t.onModuleAdded&&t.onModuleAdded(e)});var r={type:"@@Internal/ModuleManager/ModuleAdded",payload:e.id};c(e.initialActions?n([r],e.initialActions):[r])})}},remove:function(r){r&&(r=r.filter(function(e){return e}).reverse()).forEach(function(r){a.has(r.id)&&(c(r.finalActions),function(e){if(e&&i)for(var t in e)i.remove(t)}(r.reducerMap),function(t){t&&e.remove(t)}(r.middlewares),t.forEach(function(e){e.onModuleRemoved&&e.onModuleRemoved(r)}),a.delete(r.id),d=d.filter(function(e){return e.id!==r.id}),c([{type:"@@Internal/ModuleManager/ModuleRemoved",payload:r.id}]))})},dispose:function(){f.remove(d)}};return f}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0,t.getReducerManager=t.getRefCountedReducerManager=void 0;var o=r(0),i=r(1);function u(e,t){return void 0===t&&(t=o.combineReducers),e&&0!==Object.keys(e).length?t(e):function(e,t){return e||null}}t.getRefCountedReducerManager=function(e){var t=i.getStringRefCounter();for(var r in e.getReducerMap())t.add(r);return{reduce:e.reduce,getReducerMap:e.getReducerMap,add:function(r,n){0===t.getCount(r)&&e.add(r,n),t.add(r)},remove:function(r){t.remove(r),0===t.getCount(r)&&e.remove(r)}}},t.getReducerManager=function(e,t){void 0===t&&(t=o.combineReducers);var r=t(e),i=n({},e),d=[];return{getReducerMap:function(){return i},reduce:function(e,t){if(d.length>0){e=n({},e);for(var o=0,i=d;o<i.length;o++)delete e[i[o]];d=[]}return void 0===e&&(e={}),r(e,t)},add:function(e,n){e&&!i[e]&&(i[e]=n,r=u(i,t))},remove:function(e){e&&i[e]&&(delete i[e],d.push(e),r=u(i,t))}}}},function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],u=0,d=i.length;u<d;u++,o++)n[o]=i[u];return n};t.__esModule=!0,t.flatten=void 0,t.flatten=function(e){if(e){for(var t=e.slice(),r=0;r<t.length;)Array.isArray(t[r])?t.splice.apply(t,n([r,1],t[r])):r++;return t}return e}},function(e,t,r){"use strict";t.__esModule=!0,t.getMap=void 0,t.getMap=function(e){var t=[],r={};return{keys:t,get:function(n){if(n){var o=t.findIndex(function(t){return t&&e(t,n)});if(-1!==o)return r[o]}},add:function(n,o){n&&-1===t.findIndex(function(t){return t&&e(t,n)})&&(t.push(n),r[t.length-1]=o)},remove:function(n){if(n){var o=t.findIndex(function(t){return t&&e(t,n)});if(-1!==o){delete t[o];var i=r[o];return delete r[o],i}}}}}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.__esModule=!0,t.DynamicModuleLoader=void 0;var i=r(15),u=r(16),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this;return i.createElement(u.ReactReduxContext.Consumer,null,function(t){return i.createElement(a,o({},e.props,{reactReduxContext:t}))})},t}(i.Component);t.DynamicModuleLoader=d;var a=function(e){function t(t){var r=e.call(this,t)||this;if(r._providerInitializationNeeded=!1,r._cleanup=function(){r._addedModules&&(r._addedModules.remove(),r._addedModules=void 0)},null==t.reactReduxContext){var n="Tried to render DynamicModuleLoader, but no ReactReduxContext was provided";throw console.error(n),new Error(n)}return r._store=t.reactReduxContext?t.reactReduxContext.store:void 0,r.props.strictMode?r.state={readyToRender:!1}:(r._addModules(),r.state={readyToRender:!0}),r}return n(t,e),t.prototype.render=function(){return this.state.readyToRender?this._providerInitializationNeeded?i.createElement(u.Provider,{store:this._store},i.createElement(d,o({},this.props))):i.createElement(i.Fragment,null,this._renderLoader(),i.createElement(c,{cleanup:this._cleanup})):null},t.prototype._renderLoader=function(){return this.props.children?"function"==typeof this.props.children?this.props.children():this.props.children:null},t.prototype._addModules=function(){var e=this.props,t=e.createStore,r=e.modules;if(this._store)this._addedModules=this._store.addModules(r);else{if(!t)throw new Error("Store could not be resolved from React context");this._store=t(),this._providerInitializationNeeded=!0}},t.prototype.componentDidMount=function(){this.props.strictMode&&(this._addModules(),this.setState({readyToRender:!0}))},t}(i.Component),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return null},t.prototype.componentWillUnmount=function(){this.props.cleanup()},t}(i.Component)},function(e,r){e.exports=t},function(e,t){e.exports=r}])});
//# sourceMappingURL=redux-dynamic-modules-react.min.js.map